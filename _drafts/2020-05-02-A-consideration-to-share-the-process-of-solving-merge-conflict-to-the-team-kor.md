---
layout: post
categories: articles
title:  "머지 충돌 해결 과정을 팀에 공유할 수 있는 방법 고민"
excerpt: "고의적인 커밋 쪼개기 테크닉"
tags: [git]
date: 2019-05-02 10:52:35
last_modified_at: 2019-05-02 10:52:35
sitemap: false
---

## 문제인식

머지 충돌을 해결한 머지 커밋은 충돌 부분만을 보여주지 않는다.
충돌난 코드 사이즈가 클 수록, 충돌이 난 부위를 팀 동료가 코드 리뷰 중에 파악하기 어려움

## 커밋 나누기 - 고의적인 충돌 해결 커밋 쪼개기

머지 충돌이 난 부분의 코드를 둘 다 통쨰로 살려서 충돌 해결 체크 후 머지
그 다음 커밋에서 머지 충돌을 실제로 해결하는 변경점을 작성 후 커밋
pull request에 해당 커밋 해시를 공유

## 장점

충돌이 난 부분만을 변경점으로 확인 가능

## 주의사항

* 충돌이 난 부분만 바뀐 것이 아니다. (ex: 패키지 임포트, )

## 단점

* 부작용이나 실제 사례에서 아직 검증되지 않음
* 충돌 코드가 크면, 머지 충돌을 해결하는 작업이 매우 복잡해지기 때문에 해결자가 혼란에 빠져 실수할 가능성이 커짐

### 개선안 - 충돌 해결 첫번째 커밋을 해결 없이 그대로 커밋하기

위 소개한 방법에서 첫번째 커밋이 충돌난 두 코드 뭉치를 살려서 커밋하는 거라면,
이 첫번쨰 커밋을 아예 손대지 말고 충돌 해결 체크하여 git 충돌 구분자까지 남긴 채로 그대로 커밋

* 코드에 이상한 문자(git 충돌 구분선)가 들어갔으므로 코드가 동작하지 않게 됨
* 바로 다음 커밋에서 충돌을 해결할 때 프로그래머가 어디에서 문제가 생겼는지를 빼먹지 않고 모두 작업할 수 있음
* 충돌 상황이 첫번째 커밋에서 더 드라마틱하게, 하지만 약간 복잡하게 표시됨

## Reference

* ​[]()
